"use strict";(self.webpackChunkLexAdvisor=self.webpackChunkLexAdvisor||[]).push([[261],{4261:(M,L,t)=>{t.r(L),t.d(L,{ChildRoutingModule:()=>C});var m=t(2706),e=t(755),A=t(1570),u=t(7613),y=t(3483),o=t(2911),s=t(43);let a=(()=>{class n{constructor(){this.jwtService=(0,e.f3M)(o.N0),this.authS=(0,e.f3M)(s.e),this.api=(0,e.f3M)(u.s),this.router=(0,e.f3M)(m.F0)}canActivate(){if(this.api.user){if(this.jwtService.isTokenExpired())return this.authS.logout(),!1;if(this.authS.routeFromLogin){this.authS.routeFromLogin=!1;const h=this.api?.user?.role;this.router.navigateByUrl((0,y.Z)(h))}return!0}return this.authS.validateAndRewNewToken().pipe((0,A.b)(h=>{if(this.api.user.blocked&&this.authS.logout(),h&&this.authS.routeFromLogin){this.authS.routeFromLogin=!1;const l=this.api?.user?.role;this.router.navigateByUrl((0,y.Z)(l))}h||this.authS.logout()}))}static#t=this.\u0275fac=function(l){return new(l||n)};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var r=t(2425),c=t(7560),f=t(1209);let i=(()=>{class n{constructor(){this.jwtService=(0,e.f3M)(o.N0),this.authS=(0,e.f3M)(s.e),this.api=(0,e.f3M)(u.s),this.router=(0,e.f3M)(m.F0)}canActivate(h,l){if(this.api.user){if(this.jwtService.isTokenExpired())return this.authS.logout(),!1;if(this.authS.routeFromLogin){this.authS.routeFromLogin=!1;const v=this.api?.user?.role;this.router.navigateByUrl((0,y.Z)(v))}return!0}return!localStorage.getItem("token")||this.authS.validateAndRewNewToken().pipe((0,A.b)(F=>{F&&this.authS.routeFromLogin&&(this.authS.routeFromLogin=!1)}),(0,r.U)(F=>!this.api.user.blocked||(this.authS.logout(),!1)),(0,c.K)(F=>(0,f.of)(!0)))}static#t=this.\u0275fac=function(l){return new(l||n)};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d=t(8442),S=t(4176),g=t(8107),p=t(9209);const E=[{path:"",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(393),t.e(500),t.e(960),t.e(592),t.e(93)]).then(t.bind(t,8093)),title:"LexAdvisor"},{path:"userEdit",canActivate:[a],loadComponent:()=>Promise.all([t.e(638),t.e(0),t.e(785),t.e(994),t.e(393),t.e(675),t.e(984),t.e(5),t.e(499),t.e(515),t.e(592),t.e(786)]).then(t.bind(t,7786)),title:"LexAdvisor"},{path:"chat",canActivate:[a],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(592),t.e(327)]).then(t.bind(t,5327)),title:"LexAdvisor"},{path:"perfil/:id",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(785),t.e(393),t.e(960),t.e(515),t.e(204)]).then(t.bind(t,3204)),title:"LexAdvisor"},{path:"forum",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(696),t.e(785),t.e(994),t.e(176),t.e(500),t.e(196),t.e(675),t.e(455)]).then(t.bind(t,8455)),title:"LexAdvisor"},{path:"noticias",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(696),t.e(500),t.e(984),t.e(499),t.e(516)]).then(t.bind(t,3516)),title:"LexAdvisor"},{path:"noticias/:id",canActivate:[(()=>{class n{constructor(){this.jwtService=(0,e.f3M)(o.N0),this.authS=(0,e.f3M)(s.e),this.api=(0,e.f3M)(u.s),this.router=(0,e.f3M)(m.F0),this.activatedRoute=(0,e.f3M)(m.gz),this.NewS=(0,e.f3M)(S.H),this.SeoS=(0,e.f3M)(g.L),this.fwe=(0,e.f3M)(p.o)}canActivate(h,l){const v=h?.paramMap?.get("id")??"";if(this.api.user){if(this.jwtService.isTokenExpired())return this.authS.logout(),!1;if(this.authS.routeFromLogin){this.authS.routeFromLogin=!1;const F=this.api?.user?.role;this.router.navigateByUrl((0,y.Z)(F))}return this.getNewById(v)}if(localStorage.getItem("token")){const T=this.getNewById(v),B=this.authS.validateAndRewNewToken().pipe((0,A.b)(x=>{x&&this.authS.routeFromLogin&&(this.authS.routeFromLogin=!1)}),(0,r.U)(x=>!this.api.user.blocked||(this.authS.logout(),!1)));return(0,d.a)([B,T]).pipe((0,r.U)(([x,N])=>!0))}return this.getNewById(v)}getNewById(h){return this.NewS.getNewById(h).pipe((0,r.U)(l=>l.hide?(this.router.navigateByUrl("/noticias"),this.SeoS.setDefault(),!1):(this.NewS.newsActive=l,this.SeoS.setNew(l),!0)),(0,c.K)(l=>(this.fwe.fireSweetError(l),this.router.navigateByUrl("/noticias"),this.SeoS.setDefault(),(0,f.of)(!1))))}static#t=this.\u0275fac=function(l){return new(l||n)};static#o=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(696),t.e(785),t.e(994),t.e(393),t.e(984),t.e(380),t.e(842)]).then(t.bind(t,3842)),title:"LexAdvisor"},{path:"hilo/:id",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(696),t.e(176),t.e(196),t.e(592),t.e(124)]).then(t.bind(t,124)),title:"LexAdvisor"},{path:"anuncios",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(696),t.e(785),t.e(994),t.e(393),t.e(500),t.e(675),t.e(5),t.e(834)]).then(t.bind(t,8834)),title:"LexAdvisor"},{path:"al",canActivate:[i],loadComponent:()=>t.e(699).then(t.bind(t,2699)),title:"LexAdvisor"},{path:"tcu",canActivate:[i],loadComponent:()=>t.e(132).then(t.bind(t,2132)),title:"LexAdvisor"},{path:"privacypolicy",canActivate:[i],loadComponent:()=>t.e(287).then(t.bind(t,287)),title:"LexAdvisor"},{path:"ods",canActivate:[i],loadComponent:()=>t.e(782).then(t.bind(t,8782)),title:"LexAdvisor"},{path:"publicaciones",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(0),t.e(696),t.e(176),t.e(196),t.e(998)]).then(t.bind(t,289)),title:"LexAdvisor"},{path:"publicaciones/:id",canActivate:[i],loadComponent:()=>Promise.all([t.e(638),t.e(370),t.e(696),t.e(785),t.e(994),t.e(380),t.e(235)]).then(t.bind(t,8235)),title:"LexAdvisor"}];let C=(()=>{class n{static#t=this.\u0275fac=function(l){return new(l||n)};static#o=this.\u0275mod=e.oAB({type:n});static#e=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]})}return n})()},8107:(M,L,t)=>{t.d(L,{L:()=>A});var m=t(553),e=t(755);let A=(()=>{class u{setDefault(){const o=document.querySelector("#indexTitle"),s=document.querySelector('link[rel="canonical"]'),a=document.querySelector('meta[property="og:title"]'),r=document.querySelector('meta[property="og:description"]'),c=document.querySelector('meta[property="og:url"]'),f=document.querySelector('meta[property="og:image"]'),i=document.querySelector('meta[property="og:type"]');o&&(o.textContent="LexAdvisor: Tu consejero legal"),s&&(s.href="https://lexadvisor.net/"),a&&(a.content="LexAdvisor: Tu consejero legal"),r&&(r.content="Plataforma de Consultas Legales en L\xednea: Conecta con Abogados Expertos para Respuestas a tus Preguntas Legales. Encuentra Asesoramiento Confiable en Casos Civiles, Penales y Laborales. \xa1Tu Fuente de Asesor\xeda Legal Confiada!"),c&&(c.content="https://lexadvisor.net/"),f&&(f.content="https://lexadvisor.net/assets/img/logos/png/MesaTrabajoAzul.png"),i&&(i.content="website");const d=document.querySelector('meta[property="twitter:title"]'),S=document.querySelector('meta[property="twitter:url"]'),g=document.querySelector('meta[property="twitter:description"]'),p=document.querySelector('meta[property="twitter:card"]'),R=document.querySelector('meta[property="twitter:image"]'),E=document.querySelector('meta[property="twitter:image:alt"]');d&&(d.content="LexAdvisor: Tu consejero legal"),S&&(S.content="https://lexadvisor.net/"),g&&(g.content="Plataforma de Consultas Legales en L\xednea: Conecta con Abogados Expertos para Respuestas a tus Preguntas Legales. Encuentra Asesoramiento Confiable en Casos Civiles, Penales y Laborales. \xa1Tu Fuente de Asesor\xeda Legal Confiada!"),p&&(p.content="summary_large_image"),R&&(R.content="https://lexadvisor.net/assets/img/logos/png/MesaTrabajoAzul.png"),E&&(E.content="Plataforma de Consultas Legales en L\xednea: Conecta con Abogados Expertos para Respuestas a tus Preguntas Legales. Encuentra Asesoramiento Confiable en Casos Civiles, Penales y Laborales. \xa1Tu Fuente de Asesor\xeda Legal Confiada!"),this.deleteArticle()}setNew(o){const s=document.querySelector("#indexTitle"),a=document.querySelector('link[rel="canonical"]'),r=document.querySelector('meta[property="og:title"]'),c=document.querySelector('meta[property="og:description"]'),f=document.querySelector('meta[property="og:url"]'),i=document.querySelector('meta[property="og:image"]'),d=document.querySelector('meta[property="og:type"]');let S=!1;d&&"article"===d.content&&(S=!0),s&&(s.textContent=o.title),a&&(a.href=`https://lexadvisor.net/noticias/${o._id}`),r&&(r.content=o.title),c&&(c.content=o.shortBody),f&&(f.content=`https://lexadvisor.net/noticias/${o._id}`),i&&(i.content=`${m.N.backendUrl}/api/Uploads/noticias/${o.img}`),d&&(d.content="article");const g=document.querySelector('meta[property="twitter:title"]'),p=document.querySelector('meta[property="twitter:url"]'),R=document.querySelector('meta[property="twitter:description"]'),E=document.querySelector('meta[property="twitter:card"]'),C=document.querySelector('meta[property="twitter:image"]'),n=document.querySelector('meta[property="twitter:image:alt"]');if(g&&(g.content=o.title),p&&(p.content=`https://lexadvisor.net/noticias/${o._id}`),R&&(R.content=o.shortBody),E&&(E.content="summary_large_image"),C&&(C.content=`${m.N.backendUrl}/api/Uploads/noticias/${o.img}`),n&&(n.content=o.shortBody),S)this.updateArtciles(o);else{const P=[{property:"article:author",content:o.fullName},{property:"article:modified_time",content:o.updatedAt},{property:"article:published_tim",content:o.createdAt},{property:"article:section",content:"LexAdvisor"}];o.tags.forEach(h=>{P.unshift({property:"article:tag",content:h})}),P.forEach(({property:h,content:l})=>{var v=document.createElement("meta");v.setAttribute("property",h),v.setAttribute("content",`${l}`),d?.parentNode?.insertBefore(v,d.nextSibling)})}}updateArtciles(o){const s=document.querySelector('meta[property="section"]'),a=document.querySelector('meta[property="article:published_tim"]'),r=document.querySelector('meta[property="article:modified_time"]'),c=document.querySelector('meta[property="article:author"]'),f=document.querySelectorAll('meta[property="article:tag"]');s&&(s.content="LexAdvisor"),a&&(a.content=`${o.createdAt}`),r&&(r.content=`${o.updatedAt}`),c&&(c.content=o.fullName),f.forEach(d=>{d.remove()});const i=[];o.tags.forEach(d=>{i.unshift({property:"article:tag",content:d})}),i.forEach(({property:d,content:S})=>{var g=document.createElement("meta");g.setAttribute("property",d),g.setAttribute("content",`${S}`),c?.parentNode?.insertBefore(g,c.nextSibling)})}deleteArticle(){const o=document.querySelector('meta[property="section"]'),s=document.querySelector('meta[property="article:published_tim"]'),a=document.querySelector('meta[property="article:modified_time"]'),r=document.querySelector('meta[property="article:author"]'),c=document.querySelectorAll('meta[property="article:tag"]');o&&o.remove(),s&&s.remove(),a&&a.remove(),r&&r.remove(),c&&c.length>0&&c.forEach(f=>f.remove())}static#t=this.\u0275fac=function(s){return new(s||u)};static#o=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},4176:(M,L,t)=>{t.d(L,{H:()=>u});var m=t(755),e=t(7613),A=t(1570);let u=(()=>{class y{constructor(){this.api=(0,m.f3M)(e.s),this.base="news/",this.news=[],this.btnSlot=1}searchNews(s=0,a=100,r){return this.api.post(`${this.base}searchTitle?start=${s}&limit=${a}`,r)}getNewById(s){return this.api.get(`${this.base}getNewById/${s}`)}getNewsByRangeOrLatest(s){return this.api.get(`${this.base}getNewsByRangeOrLatest/${s}`).pipe((0,A.b)(a=>this.news=a))}static#t=this.\u0275fac=function(a){return new(a||y)};static#o=this.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);