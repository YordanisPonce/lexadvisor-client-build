"use strict";(self.webpackChunkLexAdvisor=self.webpackChunkLexAdvisor||[]).push([[960],{8941:(I,O,o)=>{o.d(O,{Z:()=>M});var e=o(755),u=o(6733),p=o(2163),f=o(8681),x=o(4315);function v(T,t){if(1&T){const m=e.EpF();e.ynx(0),e.TgZ(1,"a",2),e.NdJ("click",function(){e.CHM(m);const w=e.oxw(),Z=e.MAs(2);return e.KtG(w.opensideBar(Z))}),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5),e._UZ(5,"i",6),e.qZA()(),e.TgZ(6,"small",7),e._uU(7,"Chats"),e.qZA()()(),e.BQk()}}function B(T,t){if(1&T){const m=e.EpF();e.TgZ(0,"div",8)(1,"h4",9),e._uU(2,"Conversaciones"),e.qZA(),e.TgZ(3,"button",10),e.NdJ("click",function(){const Z=e.CHM(m).$implicit;return e.KtG(Z.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",11)(5,"div",12),e._UZ(6,"app-modal-chat-btn",13),e.qZA()()}if(2&T){const m=t.$implicit;e.xp6(6),e.Q6J("sideBar",m)("btnStyle",3)}}let M=(()=>{class T{constructor(){this.offcanvasService=(0,e.f3M)(p._B),this.ChatNoAuth=(0,e.f3M)(f.Z),this.modalService=(0,e.f3M)(p.FF)}opensideBar(m){this.ChatNoAuth.offcanvas=this.offcanvasService.open(m,{position:"end"})}ngOnDestroy(){this.modalService.dismissAll()}static#e=this.\u0275fac=function(y){return new(y||T)};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["app-chat-toggle"]],standalone:!0,features:[e.jDz],decls:3,vars:1,consts:[[4,"ngIf"],["content",""],[1,"card","setting-toggle",3,"click"],[1,"card-body","d-flex","align-items-center","py-md-2","px-2","py-1"],[1,"position-relative",2,"height","34px","width","28px"],[1,"settings-popover"],[1,"fa-solid","fa-headset",2,"transform","rotate(90deg)"],[1,"text-uppercase","text-primary","fw-bold","py-2","pe-2","ps-1"],[1,"offcanvas-header",2,"border-bottom","1px solid #f3f3f3"],[1,"offcanvas-title","fs-18"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["ngbAutofocus","",1,"offcanvas-body","py-0"],[1,"row"],[1,"p-0",3,"sideBar","btnStyle"]],template:function(y,w){1&y&&(e.YNc(0,v,8,0,"ng-container",0),e.YNc(1,B,7,2,"ng-template",null,1,e.W1O)),2&y&&e.Q6J("ngIf",w.ChatNoAuth.listChat.length>0)},dependencies:[u.ez,u.O5,x.o],styles:['.mondalBack[_ngcontent-%COMP%]{overflow:hidden;padding:0;border-radius:20px;max-width:360px}.waveContent[_ngcontent-%COMP%]{background-color:var(--color-azul-app);padding-bottom:10px;border-radius:22px 21px 0 0}.texTitLe[_ngcontent-%COMP%]{height:100px;align-items:center;display:flex;flex-direction:column;place-content:center}.textDot[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis}.hoverContact[_ngcontent-%COMP%]:hover{background-color:#eaeaea;cursor:pointer;border-radius:2px;border-color:#fff!important}.hoverContact[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{outline:3px solid #757575!important}.waveAfter[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% + 10px);left:-5px;border-image-source:url(banerafter.3455db51251fc10b.svg);border-image-slice:0 0 100%;border-image-width:0 0 15px;border-image-repeat:stretch;border-width:0px 0px 20px;border-bottom-style:solid;border-color:initial;border-top-style:initial;border-left-style:initial;border-right-style:initial}.btnCloseM[_ngcontent-%COMP%]{margin-left:auto;width:50px}.btnCloseModal[_ngcontent-%COMP%]{color:#fff}.inputM[_ngcontent-%COMP%]{outline:0px;height:50px;width:calc(100% - 80px);border:0}.online[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;top:46px;left:65px;position:absolute;background:rgb(88,183,67);border-radius:50%}.offline[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;top:46px;left:65px;position:absolute;background:rgb(131,131,131);border-radius:50%}.setting-toggle[_ngcontent-%COMP%]{position:fixed;top:90%;right:0;text-decoration:none;z-index:1016;transform:rotate(-90deg) translate3d(-25px,39px,0);border-bottom-left-radius:0;border-bottom-right-radius:0;margin-top:-83px}.settings-popover[_ngcontent-%COMP%]{left:8px;z-index:2;top:3px;position:relative;padding:0;height:.875rem;width:.875rem;outline:none}@media (max-width: 575.98px){.setting-toggle[_ngcontent-%COMP%]{transform:rotate(-90deg);outline:none}}@media (max-width: 575.98px){.setting-toggle[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .setting-toggle[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{display:none}}']})}return T})()},4794:(I,O,o)=>{o.d(O,{Z:()=>Z});var e=o(755),u=o(7e3),p=o(6733),f=o(2898),x=o(7698),B=o(2241),M=o(7135);function T(h,N){if(1&h&&(e.ynx(0),e._UZ(1,"img",11),e.ALo(2,"imagen"),e.BQk()),2&h){const E=e.oxw(2);e.xp6(1),e.Q6J("src",e.xi3(2,1,E.message.de.avatar,"usuarios"),e.LSH)}}function t(h,N){1&h&&(e.ynx(0),e._UZ(1,"img",11),e.ALo(2,"imagen"),e.BQk()),2&h&&(e.xp6(1),e.Q6J("src",e.xi3(2,1,null,"usuarios"),e.LSH))}function m(h,N){if(1&h&&(e.TgZ(0,"div",9),e.YNc(1,T,3,4,"ng-container",10),e.YNc(2,t,3,4,"ng-container",10),e.qZA()),2&h){const E=e.oxw();e.xp6(1),e.Q6J("ngIf",E.message.de),e.xp6(1),e.Q6J("ngIf",E.message.deTemp)}}const y=function(h){return{spaceLe:h}},w=function(h){return{showDetails:h}};let Z=(()=>{class h{constructor(){this.ChatPageS=(0,e.f3M)(u.K)}messageResolver(E){return x.sanitize(E.split("\n").join("<br />"),{ALLOWED_TAGS:["br"]})}getUserPrevMessageId(E){return E?.de?E?.de._id:E?.deTemp?.idTem}setActiveMessage(){this.ChatPageS.idMessageActive=this.message._id}static#e=this.\u0275fac=function(D){return new(D||h)};static#t=this.\u0275cmp=e.Xpm({type:h,selectors:[["app-incoming-message"]],inputs:{prevMessage:"prevMessage",message:"message"},standalone:!0,features:[e.jDz],decls:11,vars:12,consts:[[1,"d-flex","px-3","py-0"],["class","avatar avatar-sm me-2",4,"ngIf"],[1,"flex-fill"],[1,"w-100"],[1,"hover-actions-trigger","d-flex","align-items-center",3,"ngClass","click"],[1,"chat-message","bg-200","p-2","rounded-2"],[3,"innerHTML"],[1,"ps-3","fs-11","subTime",2,"color","#696969",3,"ngClass"],[1,"text-dark","fs-11"],[1,"avatar","avatar-sm","me-2"],[4,"ngIf"],["alt","",1,"rounded-circle",3,"src"]],template:function(D,b){1&D&&(e.TgZ(0,"div",0),e.YNc(1,m,3,2,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4),e.NdJ("click",function(){return b.setActiveMessage()}),e.TgZ(5,"div",5),e._UZ(6,"span",6),e.TgZ(7,"sub",7),e._uU(8),e.ALo(9,"momentDate"),e.qZA()()(),e._UZ(10,"div",8),e.qZA()()()),2&D&&(e.xp6(1),e.Q6J("ngIf",void 0===b.prevMessage||b.getUserPrevMessageId(b.prevMessage)!==b.getUserPrevMessageId(b.message)),e.xp6(3),e.Q6J("ngClass",e.VKq(8,y,!(void 0===b.prevMessage||b.getUserPrevMessageId(b.prevMessage)!==b.getUserPrevMessageId(b.message)))),e.xp6(2),e.Q6J("innerHTML",b.messageResolver(b.message.message),e.oJD),e.xp6(1),e.Q6J("ngClass",e.VKq(10,w,b.ChatPageS.idMessageActive===b.message._id)),e.xp6(1),e.Oqu(e.xi3(9,5,b.message.createdAt,"h:mm a")))},dependencies:[p.ez,p.mk,p.O5,f.D,B.$,M.i],styles:[".chat-message[_ngcontent-%COMP%]{max-width:min(85%,600px);margin-bottom:.25rem;display:flex;flex-direction:column;position:relative;word-break:break-word}.rounded-2[_ngcontent-%COMP%]{border-radius:8px!important}.hover-actions[_ngcontent-%COMP%]{display:none}.chat-option[_ngcontent-%COMP%]{color:#b6c1d2;cursor:pointer}.chat-option[_ngcontent-%COMP%]:hover{color:#4256d0}.hover-actions-trigger[_ngcontent-%COMP%]{position:relative}.hover-actions-trigger[_ngcontent-%COMP%]:hover   .hover-actions[_ngcontent-%COMP%], .hover-actions-trigger[_ngcontent-%COMP%]:focus   .hover-actions[_ngcontent-%COMP%]{z-index:1;display:flex}.subTime[_ngcontent-%COMP%]{opacity:0;bottom:-.4em;height:0px;text-align:end;transition:.5s ease-in-out all}.spaceLe[_ngcontent-%COMP%]{margin-left:35px}.bg-200[_ngcontent-%COMP%]{background-color:#edf2f9!important;font-size:.9rem}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.showDetails[_ngcontent-%COMP%]{height:6px;opacity:1;display:block}"]})}return h})()},4854:(I,O,o)=>{o.d(O,{Z:()=>T});var e=o(755),u=o(6733),p=o(7698),x=o(2898),v=o(7e3),B=o(7135);const M=function(t){return{showDetails:t}};let T=(()=>{class t{constructor(){this.ChatPageS=(0,e.f3M)(v.K)}messageResolver(y){return p.sanitize(y.split("\n").join("<br />"),{ALLOWED_TAGS:["br"]})}setActiveMessage(){this.ChatPageS.idMessageActive=this.message._id}static#e=this.\u0275fac=function(w){return new(w||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-outgoing-message"]],inputs:{message:"message"},standalone:!0,features:[e.jDz],decls:9,vars:8,consts:[[1,"d-flex","px-3","py-0"],[1,"flex-fill"],[1,"w-100"],[1,"hover-actions-trigger","d-flex","align-items-center","justify-content-end",3,"click"],[1,"chat-message","text-white","p-2","rounded-2",2,"background-color","var(--color-azul-app)"],[3,"innerHTML"],[1,"p-0","fs-11","subTime",2,"color","#e2e2e2",3,"ngClass"]],template:function(w,Z){1&w&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return Z.setActiveMessage()}),e.TgZ(4,"div",4),e._UZ(5,"span",5),e.TgZ(6,"sub",6),e._uU(7),e.ALo(8,"momentDate"),e.qZA()()()()()()),2&w&&(e.xp6(5),e.Q6J("innerHTML",Z.messageResolver(Z.message.message),e.oJD),e.xp6(1),e.Q6J("ngClass",e.VKq(6,M,Z.ChatPageS.idMessageActive===Z.message._id)),e.xp6(1),e.Oqu(e.xi3(8,3,Z.message.createdAt,"h:mm a")))},dependencies:[u.ez,u.mk,x.D,B.i],styles:[".chat-message[_ngcontent-%COMP%]{max-width:min(85%,600px);margin-bottom:.25rem;display:flex;flex-direction:column;position:relative;word-break:break-word}.rounded-2[_ngcontent-%COMP%]{border-radius:8px!important}.hover-actions[_ngcontent-%COMP%]{display:none}.chat-option[_ngcontent-%COMP%]{color:#b6c1d2;cursor:pointer}.chat-option[_ngcontent-%COMP%]:hover{color:#4256d0}.hover-actions-trigger[_ngcontent-%COMP%]{position:relative}.hover-actions-trigger[_ngcontent-%COMP%]:hover   .hover-actions[_ngcontent-%COMP%], .hover-actions-trigger[_ngcontent-%COMP%]:focus   .hover-actions[_ngcontent-%COMP%]{z-index:1;display:flex}.subTime[_ngcontent-%COMP%]{opacity:0;bottom:-.4em;height:0px;text-align:end;transition:.5s ease-in-out all}.spaceLe[_ngcontent-%COMP%]{margin-left:35px}.bg-200[_ngcontent-%COMP%]{background-color:#edf2f9!important;font-size:.9rem}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.showDetails[_ngcontent-%COMP%]{height:6px;opacity:1;display:block}"]})}return t})()},4315:(I,O,o)=>{o.d(O,{o:()=>te});var e=o(2706),u=o(7698),f=o(6733),x=o(1e3),v=o(5526),B=o(2331),M=o(6125),T=o(2163),t=o(755),m=o(3226),y=o(4854),w=o(4794),Z=o(6784),h=o(7613),N=o(8681),E=o(9209),D=o(2898),b=o(2241);function k(a,g){if(1&a){const r=t.EpF();t.ynx(0),t.TgZ(1,"button",2),t.NdJ("click",function(){t.CHM(r);const _=t.oxw(),P=t.MAs(4);return t.KtG(_.openModalMessage(P))}),t._uU(2," Contactar "),t._UZ(3,"i",3),t.qZA(),t.BQk()}}function S(a,g){if(1&a){const r=t.EpF();t.ynx(0),t.TgZ(1,"button",4),t.NdJ("click",function(){t.CHM(r);const _=t.oxw(),P=t.MAs(4);return t.KtG(_.openModalMessage(P))}),t._uU(2," Enviar Mensaje "),t._UZ(3,"i",5),t.qZA(),t.BQk()}}function J(a,g){if(1&a&&(t._UZ(0,"img",13),t.ALo(1,"imagen")),2&a){const r=t.oxw().$implicit;t.Q6J("src",t.xi3(1,1,r.members[0].avatar,"usuarios"),t.LSH)}}function R(a,g){if(1&a&&(t.TgZ(0,"p",14),t._uU(1),t.qZA()),2&a){const r=t.oxw().$implicit;t.xp6(1),t.Oqu(r.members[0].firstname)}}function L(a,g){if(1&a){const r=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){const P=t.CHM(r).$implicit,ne=t.oxw(2),re=t.MAs(4);return t.KtG(ne.contactSelect(re,P))}),t.YNc(2,J,2,4,"img",9),t.TgZ(3,"div",10),t.YNc(4,R,2,1,"p",11),t.TgZ(5,"p",12),t._uU(6),t.qZA()()()()}if(2&a){const r=g.$implicit;t.xp6(2),t.Q6J("ngIf",r.members.length>0),t.xp6(2),t.Q6J("ngIf",r.members.length>0),t.xp6(2),t.Oqu(r.lastMessage.message)}}function Q(a,g){if(1&a&&(t.ynx(0),t.YNc(1,L,7,3,"div",6),t.BQk()),2&a){const r=t.oxw();t.xp6(1),t.Q6J("ngForOf",r.ChatNoAuth.listChat)}}function i(a,g){1&a&&(t.TgZ(0,"p",28),t._uU(1,"online"),t.qZA())}function A(a,g){1&a&&(t.TgZ(0,"p",29),t._uU(1,"offline"),t.qZA())}function n(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Mensaje demasiado largo"),t.qZA())}function l(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Mensaje demasiado corto"),t.qZA())}function c(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Olvidaste poner un "),t.TgZ(2,"strong"),t._uU(3,"mensaje"),t.qZA()())}function d(a,g){if(1&a){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",30)(2,"form",31),t.NdJ("submit",function(){t.CHM(r);const _=t.oxw(2);return t.KtG(_.sendMessage())}),t.TgZ(3,"div",32)(4,"h6",33),t._uU(5,"Env\xeda tus preguntas al profesional"),t.qZA()(),t.TgZ(6,"mat-form-field",34)(7,"textarea",35,36),t._uU(10,"                                    "),t.qZA(),t.TgZ(11,"mat-hint",37),t._uU(12),t.qZA(),t.YNc(13,n,2,0,"mat-error",0),t.YNc(14,l,2,0,"mat-error",0),t.YNc(15,c,4,0,"mat-error",0),t.qZA(),t.TgZ(16,"button",38),t._uU(17," Enviar Mensaje "),t._UZ(18,"i",3),t.qZA()()(),t.BQk()}if(2&a){const r=t.MAs(8),s=t.oxw(2);t.xp6(7),t.Q6J("formControl",s.textAreaFormControl),t.xp6(5),t.hij("",r.value.length," / 256"),t.xp6(1),t.Q6J("ngIf",s.textAreaFormControl.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",s.textAreaFormControl.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",s.textAreaFormControl.hasError("required")),t.xp6(1),t.Q6J("disabled",s.disableConnectBtn)}}function C(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre demasiado largo"),t.qZA())}function U(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Nombre demasiado corto"),t.qZA())}function F(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Olvidaste poner tu "),t.TgZ(2,"strong"),t._uU(3,"nombre"),t.qZA()())}function K(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Correo no valido"),t.qZA())}function q(a,g){1&a&&(t.TgZ(0,"mat-error"),t._uU(1,"Olvidaste poner tu "),t.TgZ(2,"strong"),t._uU(3,"correo electr\xf3nico"),t.qZA()())}function z(a,g){if(1&a){const r=t.EpF();t.ynx(0),t.TgZ(1,"div",30)(2,"form",31),t.NdJ("submit",function(){t.CHM(r);const _=t.oxw(2);return t.KtG(_.initChatNoAuth())}),t.TgZ(3,"div",32)(4,"h6",33),t._uU(5,"Env\xeda tus datos al profesional antes de empezar a conversar"),t.qZA()(),t.TgZ(6,"div",39)(7,"mat-form-field",40)(8,"mat-label"),t._uU(9,"Tu nombre: "),t.qZA(),t._UZ(10,"input",41,42),t.TgZ(12,"mat-hint",37),t._uU(13),t.qZA(),t.YNc(14,C,2,0,"mat-error",0),t.YNc(15,U,2,0,"mat-error",0),t.YNc(16,F,4,0,"mat-error",0),t.qZA()(),t.TgZ(17,"div",43)(18,"mat-form-field",40)(19,"mat-label"),t._uU(20,"Tu correo electr\xf3nico: "),t.qZA(),t._UZ(21,"input",44,45),t.YNc(23,K,2,0,"mat-error",0),t.YNc(24,q,4,0,"mat-error",0),t.qZA()(),t.TgZ(25,"button",46),t._uU(26," Empezar chat "),t._UZ(27,"i",47),t.qZA()()(),t.BQk()}if(2&a){const r=t.MAs(11),s=t.oxw(2);t.xp6(10),t.Q6J("formControl",s.inputNameFormControl),t.xp6(3),t.hij("",r.value.length," / 20"),t.xp6(1),t.Q6J("ngIf",s.inputNameFormControl.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",s.inputNameFormControl.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",s.inputNameFormControl.hasError("required")),t.xp6(5),t.Q6J("formControl",s.inputEmailFormControl),t.xp6(2),t.Q6J("ngIf",s.inputEmailFormControl.hasError("email")),t.xp6(1),t.Q6J("ngIf",s.inputEmailFormControl.hasError("required"))}}function Y(a,g){1&a&&(t.TgZ(0,"p",51),t._uU(1,"Conectado"),t.qZA())}function W(a,g){1&a&&(t.TgZ(0,"p",51),t._uU(1,"Enviando mensaje"),t.qZA())}function j(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",48),t.YNc(2,Y,2,0,"p",49),t.YNc(3,W,2,0,"p",49),t.TgZ(4,"div"),t._UZ(5,"i",50),t.qZA()(),t.BQk()),2&a){const r=t.oxw(2);t.xp6(2),t.Q6J("ngIf",r.connectingChat&&!r.sendingMessage),t.xp6(1),t.Q6J("ngIf",r.sendingMessage)}}function V(a,g){if(1&a&&(t.ynx(0),t._UZ(1,"app-outgoing-message",56),t.BQk()),2&a){const r=t.oxw().$implicit;t.xp6(1),t.Q6J("message",r)}}function X(a,g){if(1&a&&t._UZ(0,"app-incoming-message",57),2&a){const r=t.oxw(),s=r.$implicit,_=r.index,P=t.oxw(3);t.Q6J("message",s)("prevMessage",P.ChatNoAuth.messages[_-1])}}function H(a,g){if(1&a&&(t.ynx(0),t.YNc(1,V,2,1,"ng-container",54),t.YNc(2,X,1,2,"ng-template",null,55,t.W1O),t.BQk()),2&a){const r=g.$implicit,s=t.MAs(3);t.xp6(1),t.Q6J("ngIf",r.deTemp)("ngIfElse",s)}}function $(a,g){if(1&a&&(t.TgZ(0,"div",52),t.YNc(1,H,4,2,"ng-container",53),t.qZA()),2&a){const r=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",r.ChatNoAuth.messages)}}function G(a,g){if(1&a){const r=t.EpF();t.TgZ(0,"div",58),t._UZ(1,"div",59),t.TgZ(2,"div",60)(3,"mat-form-field",61)(4,"textarea",62,36),t._uU(7,"                                "),t.qZA()(),t.TgZ(8,"button",63),t.NdJ("click",function(){t.CHM(r);const _=t.oxw(2);return t.KtG(_.sendMessageTemp())}),t._UZ(9,"i",64),t.qZA()()()}if(2&a){const r=t.oxw(2);t.xp6(4),t.Q6J("formControl",r.messageText)}}function ee(a,g){if(1&a){const r=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"div",7)(3,"div",16)(4,"div",17)(5,"div",18),t._UZ(6,"img",13),t.ALo(7,"imagen"),t.TgZ(8,"div",19)(9,"p",20),t._uU(10),t.qZA(),t.YNc(11,i,2,0,"p",21),t.YNc(12,A,2,0,"p",22),t.qZA(),t.TgZ(13,"button",23),t.NdJ("click",function(){const P=t.CHM(r).dismiss;return t.KtG(P("Cross click"))}),t._UZ(14,"i",24),t.qZA()(),t._UZ(15,"span",25),t.qZA(),t.YNc(16,d,19,6,"ng-container",0),t.YNc(17,z,28,8,"ng-container",0),t.YNc(18,j,6,2,"ng-container",0),t.YNc(19,$,2,1,"div",26),t.YNc(20,G,10,1,"div",27),t.qZA()()()()}if(2&a){const r=t.oxw();t.xp6(6),t.Q6J("src",t.xi3(7,9,r.user.avatar,"usuarios"),t.LSH),t.xp6(4),t.Oqu(r.user.firstname),t.xp6(1),t.Q6J("ngIf",r.user.online),t.xp6(1),t.Q6J("ngIf",!r.user.online),t.xp6(4),t.Q6J("ngIf",r.api.user),t.xp6(1),t.Q6J("ngIf",!(r.api.user||r.sendingMessage||r.connectingChat||r.showChatBody)),t.xp6(1),t.Q6J("ngIf",r.connectingChat),t.xp6(1),t.Q6J("ngIf",r.showChatBody),t.xp6(1),t.Q6J("ngIf",r.showChatBody)}}let te=(()=>{class a{constructor(){this.btnStyle=1,this.api=(0,t.f3M)(h.s),this.fwe=(0,t.f3M)(E.o),this.Chat=(0,t.f3M)(Z.ZP),this.router=(0,t.f3M)(e.F0),this.ChatNoAuth=(0,t.f3M)(N.Z),this.modalService=(0,t.f3M)(T.FF),this.connectingChat=!1,this.sendingMessage=!1,this.showChatBody=!1,this.disableConnectBtn=!1,this.disableSelectContact=!1,this.messageText=new m.NI("",[m.kI.required,m.kI.maxLength(200)]),this.textAreaFormControl=new m.NI("",[m.kI.required,m.kI.minLength(10),m.kI.maxLength(256)]),this.inputNameFormControl=new m.NI("",[m.kI.required,m.kI.minLength(2),m.kI.maxLength(20)]),this.inputEmailFormControl=new m.NI("",[m.kI.required,m.kI.email,m.kI.maxLength(50)])}openModalMessage(r){if(this.showChatBody=!1,this.api.user)return this.modalService.open(r,{modalDialogClass:"bottom-modal",centered:!0,windowClass:"windowClass"});if(this.ChatNoAuth.nameTemp){if(this.connectingChat=!0,this.ChatNoAuth.messages=[],this.ChatNoAuth.chatActivo=null,this.ChatNoAuth.listChat.forEach(s=>{s.members.forEach(_=>{this.user._id===_.id&&(this.ChatNoAuth.chatActivo=s,this.ChatNoAuth.getAllMessagesByChatId(s.chatId).subscribe({next:P=>{this.connectingChat=!1,this.showChatBody=!0,this.ChatNoAuth.messages=P.mensajes,this.ChatNoAuth.scrollChatToBottom(300)},error:this.ChatNoAuth.logError}))})}),!this.ChatNoAuth.chatActivo)if(!1===this.ChatNoAuth.online)this.createChat();else if(this.sendingMessage=!0,!this.ChatNoAuth.arrayPreChatId.includes(this.user._id)){this.ChatNoAuth.arrayPreChatId.push(this.user._id),this.ChatNoAuth.createNewChatTemp(this.user._id);const s=this.ChatNoAuth.sendingMessage.subscribe({next:()=>{this.connectingChat=!1,this.sendingMessage=!1,this.showChatBody=!0,this.ChatNoAuth.userHistory.push(this.user),s.unsubscribe()}})}return this.modalService.open(r,{modalDialogClass:"bottom-modal",centered:!0,windowClass:"windowClass"})}return this.modalService.open(r,{modalDialogClass:"bottom-modal",centered:!0,windowClass:"windowClass"})}sendMessage(){let r=this.textAreaFormControl.value?.trim();this.textAreaFormControl.valid&&r&&(this.disableConnectBtn=!0,this.Chat.checkConexcion().subscribe({next:()=>{r=u.sanitize(r??"",{USE_PROFILES:{html:!0}}),this.disableConnectBtn=!1,this.Chat.createNewChat(r,this.user._id),this.modalService.dismissAll(),this.textAreaFormControl.reset(),this.fwe.fireSweetToastAlert("top-end","success","Se envi\xf3 tu mensaje")},error:()=>{this.disableConnectBtn=!1,this.fwe.fireSweetToastAlert("top-end","error","Problemas de red")}}))}initChatNoAuth(){this.disableConnectBtn=!0;const r=this.inputNameFormControl.value?.trim(),s=this.inputEmailFormControl.value?.trim();this.inputNameFormControl.valid&&this.inputEmailFormControl.valid&&r&&s&&(this.ChatNoAuth.nameTemp=r,this.ChatNoAuth.correoTemp=s,this.createChat())}createChat(){if(this.connectingChat=!0,this.ChatNoAuth.connectChat(),!this.ChatNoAuth.arrayPreChatId.includes(this.user._id)){this.ChatNoAuth.arrayPreChatId.push(this.user._id);const r=this.ChatNoAuth.connectingChat.subscribe({next:()=>{this.sendingMessage=!0,this.ChatNoAuth.createNewChatTemp(this.user._id),r.unsubscribe()}}),s=this.ChatNoAuth.sendingMessage.subscribe({next:()=>{this.ChatNoAuth.userHistory.push(this.user),this.connectingChat=!1,this.sendingMessage=!1,this.showChatBody=!0,s.unsubscribe()}})}}sendMessageTemp(){if(!this.ChatNoAuth.chatActivo)return;let r=this.messageText.value?.trim();r&&this.messageText.valid&&(r=u.sanitize(r,{USE_PROFILES:{html:!0}}),this.ChatNoAuth.sendMessageTemp({chatId:this.ChatNoAuth.chatActivo.chatId,message:r}),this.messageText.reset())}contactSelect(r,s){!1===this.disableSelectContact&&!1===this.connectingChat&&(this.disableSelectContact=!0,this.connectingChat=!0,this.ChatNoAuth.offcanvas.result.then(_=>{},_=>{this.ChatNoAuth.getAllMessagesByChatId(s.chatId).subscribe({next:P=>{this.connectingChat=!1,this.showChatBody=!0,this.ChatNoAuth.messages=P.mensajes,setTimeout(()=>this.modalService.open(r,{modalDialogClass:"bottom-modal",centered:!0,windowClass:"windowClass"}),500),setTimeout(()=>this.ChatNoAuth.scrollChatToBottom(300),700),setTimeout(()=>this.disableSelectContact=!1,3e3)},error:()=>{this.disableSelectContact=!1,this.connectingChat=!1}})}),this.ChatNoAuth.messages=[],this.ChatNoAuth.chatActivo=s,this.ChatNoAuth.userHistory.forEach(_=>{s.members.forEach(({_id:P})=>{_._id===P&&(this.user=_)})}),this.sideBar.dismiss())}ngOnDestroy(){this.modalService.dismissAll()}static#e=this.\u0275fac=function(s){return new(s||a)};static#t=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-modal-chat-btn"]],inputs:{user:"user",btnStyle:"btnStyle",sideBar:"sideBar"},standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[[4,"ngIf"],["content",""],[1,"btn","btn-primary","waves-effect","waves-light","w-100","rounded-5",2,"min-width","120px",3,"click"],[1,"fa-regular","fa-paper-plane"],[1,"btn","btn-primary","btn-sm","btn-wave","waves-effect","waves-light",2,"border-radius","20px","color","white","background","var(--color-naranja-app)","border","0","margin-top","8px","max-width","140px",3,"click"],[1,"fa-solid","fa-paper-plane"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"d-flex","btn","w-100","hoverContact","py-2","ps-1","waves-effect","waves-light",2,"border-bottom","1px solid #f3f3f3",3,"click"],["width","40","height","40","class","border rounded-circle","referrerpolicy","no-referrer",3,"src",4,"ngIf"],[1,"ms-2","overflow-hidden","w-100",2,"text-align","left"],["class","m-0 overflow-hidden fs-12 textDot fw-bolder",4,"ngIf"],[1,"m-0","overflow-hidden","fs-12","textDot"],["width","40","height","40","referrerpolicy","no-referrer",1,"border","rounded-circle",3,"src"],[1,"m-0","overflow-hidden","fs-12","textDot","fw-bolder"],[1,"modal-body","header","mondalBack"],[1,"row"],[1,"col-12","waveContent","mb-1"],[1,"d-flex",2,"color","white","padding","20px"],[1,"ms-3"],[1,"m-0","fw-bolder","fs-13"],["class","m-0 online fs-13",4,"ngIf"],["class","m-0 offline fs-13",4,"ngIf"],["type","button","aria-label","Close",1,"btn","btnCloseM",3,"click"],[1,"fa-solid","fa-xmark","btnCloseModal",2,"font-size","25px"],[1,"waveAfter"],["class","col-12","style","height: 300px;overflow: hidden;overflow-y: scroll","id","scroll1",4,"ngIf"],["class","col-12 mt-1","style","align-items: center;",4,"ngIf"],[1,"m-0","online","fs-13"],[1,"m-0","offline","fs-13"],[2,"height","350px"],[1,"d-flex","align-items-center","h-100","justify-content-center",2,"flex-direction","column",3,"submit"],[1,"texTitLe","p-4","text-center"],[1,"fw-bold"],[1,"",2,"width","calc(100% - 30px)"],["matInput","","maxlength","256","minlength","10","placeholder","Escribe aqu\xed tu consulta legal.","cdkTextareaAutosize","","cdkAutosizeMinRows","1","ngbAutofocus","","cdkAutosizeMaxRows","6",3,"formControl"],["textarea","","autosize","cdkTextareaAutosize"],["align","end"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light","mb-4",2,"width","160px",3,"disabled"],[1,"dense-2",2,"width","calc(100% - 30px)"],["appearance","outline",1,"w-100"],["type","text","maxlength","20","minlength","2","matInput","","placeholder","Escribe tu nombre",3,"formControl"],["inputName",""],[1,"dense-2","mt-1",2,"width","calc(100% - 30px)"],["type","email","maxlength","50","matInput","","placeholder","Escribe tu correo electr\xf3nico",3,"formControl"],["inputEmail",""],["type","submit",1,"btn","btn-primary","waves-effect","waves-light","mb-4",2,"width","160px"],[1,"fa-solid","fa-comments"],[1,"d-flex","align-items-center","justify-content-center",2,"height","300px","flex-direction","column"],["class","fw-bolder",4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin",2,"font-size","40px"],[1,"fw-bolder"],["id","scroll1",1,"col-12",2,"height","300px","overflow","hidden","overflow-y","scroll"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[3,"message"],[3,"message","prevMessage"],[1,"col-12","mt-1",2,"align-items","center"],[1,"w-100",2,"border-top","1px solid #cccccc"],[1,"d-flex","justify-content-center","align-items-center"],["subscriptSizing","dynamic",1,"w-100","myFormChat"],["matInput","","maxlength","200","minlength","1","placeholder","Escribe aqu\xed tu consulta legal","cdkTextareaAutosize","","cdkAutosizeMinRows","1","ngbAutofocus","","cdkAutosizeMaxRows","6",3,"formControl"],["mat-mini-fab","",1,"waves-effect","waves-light","me-1",2,"background-color","var(--color-azul-app)",3,"click"],[1,"fa-solid","fa-paper-plane",2,"color","#ffffff"]],template:function(s,_){1&s&&(t.YNc(0,k,4,0,"ng-container",0),t.YNc(1,S,4,0,"ng-container",0),t.YNc(2,Q,2,1,"ng-container",0),t.YNc(3,ee,21,12,"ng-template",null,1,t.W1O)),2&s&&(t.Q6J("ngIf",1===_.btnStyle),t.xp6(1),t.Q6J("ngIf",2===_.btnStyle),t.xp6(1),t.Q6J("ngIf",3===_.btnStyle))},dependencies:[f.ez,f.sg,f.O5,y.Z,w.Z,D.D,b.$,v.ot,v.nh,m.u5,m._Y,m.Fj,m.JJ,m.JL,m.wO,m.nD,m.F,m.UX,m.oH,M.lN,M.KE,M.hX,M.bx,M.TO,B.Ky,B.IC,x.c,x.Nt],styles:['.mondalBack[_ngcontent-%COMP%]{overflow:hidden;padding:0;border-radius:20px;max-width:360px}.waveContent[_ngcontent-%COMP%]{background-color:var(--color-azul-app);padding-bottom:10px;border-radius:22px 21px 0 0}.texTitLe[_ngcontent-%COMP%]{height:100px;align-items:center;display:flex;flex-direction:column;place-content:center}.textDot[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis}.hoverContact[_ngcontent-%COMP%]:hover{background-color:#eaeaea;cursor:pointer;border-radius:2px;border-color:#fff!important}.hoverContact[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{outline:3px solid #757575!important}.waveAfter[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% + 10px);left:-5px;border-image-source:url(banerafter.3455db51251fc10b.svg);border-image-slice:0 0 100%;border-image-width:0 0 15px;border-image-repeat:stretch;border-width:0px 0px 20px;border-bottom-style:solid;border-color:initial;border-top-style:initial;border-left-style:initial;border-right-style:initial}.btnCloseM[_ngcontent-%COMP%]{margin-left:auto;width:50px}.btnCloseModal[_ngcontent-%COMP%]{color:#fff}.inputM[_ngcontent-%COMP%]{outline:0px;height:50px;width:calc(100% - 80px);border:0}.online[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;top:46px;left:65px;position:absolute;background:rgb(88,183,67);border-radius:50%}.offline[_ngcontent-%COMP%]:before{content:"";display:block;width:8px;height:8px;top:46px;left:65px;position:absolute;background:rgb(131,131,131);border-radius:50%}']})}return a})()},8879:(I,O,o)=>{o.d(O,{B:()=>Q});var e=o(755),u=o(6733),p=o(2163),f=o(4220),x=o(2561);const v=new e.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),T=(0,f.pj)(class{constructor(i){this._elementRef=i}},"primary");let t=(()=>{class i extends T{constructor(n,l,c,d,C){super(n),this._ngZone=l,this._changeDetectorRef=c,this._animationMode=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.vpe,this._mode="determinate",this._transitionendHandler=U=>{0===this.animationEnd.observers.length||!U.target||!U.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===d,C&&(C.color&&(this.color=this.defaultColor=C.color),this.mode=C.mode||this.mode)}get value(){return this._value}set value(n){this._value=m((0,x.su)(n)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(n){this._bufferValue=m((0,x.su)(n)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(n){this._mode=n,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(l){return new(l||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.QbO,8),e.Y36(v,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(l,c){2&l&&(e.uIk("aria-valuenow",c._isIndeterminate()?null:c.value)("mode",c.mode),e.ekj("_mat-animation-noopable",c._isNoopAnimation)("mdc-linear-progress--animation-ready",!c._isNoopAnimation)("mdc-linear-progress--indeterminate",c._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(l,c){1&l&&(e.TgZ(0,"div",0),e._UZ(1,"div",1)(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"span",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"span",4),e.qZA()),2&l&&(e.xp6(1),e.Udp("flex-basis",c._getBufferBarFlexBasis()),e.xp6(2),e.Udp("transform",c._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return i})();function m(i,A=0,n=100){return Math.max(A,Math.min(n,i))}let y=(()=>{class i{static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[f.BQ]})}return i})();var w=o(144),Z=o(9209),h=o(2898),N=o(7135);function E(i,A){if(1&i&&e._UZ(0,"i",8),2&i){const n=e.oxw().fill;e.Udp("width",n,"%")}}function D(i,A){if(1&i&&(e.TgZ(0,"i",6),e.YNc(1,E,1,2,"i",7),e.qZA()),2&i){const n=A.fill;e.xp6(1),e.Q6J("ngIf",n>0)}}function b(i,A){1&i&&(e.TgZ(0,"h1",38),e._uU(1,"0"),e.qZA())}function k(i,A){if(1&i&&(e.TgZ(0,"h1",38),e._uU(1),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.Oqu(n.profesional.avgRatings.toFixed(1))}}function S(i,A){if(1&i&&(e.ynx(0),e.TgZ(1,"div",41)(2,"div",42)(3,"div",1)(4,"p",43),e._uU(5,"General: "),e.qZA(),e._UZ(6,"ngb-rating",20),e.qZA(),e.TgZ(7,"div",1)(8,"p",43),e._uU(9,"Eficiente: "),e.qZA(),e._UZ(10,"ngb-rating",20),e.qZA(),e.TgZ(11,"div",1)(12,"p",43),e._uU(13,"Comprometido: "),e.qZA(),e._UZ(14,"ngb-rating",20),e.qZA(),e.TgZ(15,"div",1)(16,"p",43),e._uU(17,"Responsable: "),e.qZA(),e._UZ(18,"ngb-rating",20),e.qZA(),e.TgZ(19,"div",1)(20,"p",43),e._uU(21,"Comunicativo: "),e.qZA(),e._UZ(22,"ngb-rating",20),e.qZA(),e.TgZ(23,"p",44),e._uU(24),e.ALo(25,"momentDate"),e.qZA(),e.TgZ(26,"div",45),e._uU(27),e.qZA()(),e.TgZ(28,"div",46),e._uU(29),e.qZA()(),e._UZ(30,"div",23),e.BQk()),2&i){const n=A.$implicit,l=e.oxw(3),c=e.MAs(3);e.xp6(6),e.Q6J("rate",n.overallRating)("starTemplate",c)("readonly",!0)("max",5)("ariaValueText",l.ariaValueText),e.xp6(4),e.Q6J("rate",n.efficiency)("starTemplate",c)("readonly",!0)("max",5)("ariaValueText",l.ariaValueText),e.xp6(4),e.Q6J("rate",n.engaged)("starTemplate",c)("readonly",!0)("max",5)("ariaValueText",l.ariaValueText),e.xp6(4),e.Q6J("rate",n.responsible)("starTemplate",c)("readonly",!0)("max",5)("ariaValueText",l.ariaValueText),e.xp6(4),e.Q6J("rate",n.communicative)("starTemplate",c)("readonly",!0)("max",5)("ariaValueText",l.ariaValueText),e.xp6(2),e.AsE("",n.firstname," ",e.xi3(25,29,n.createdAt,"DD MMMM YYYY"),""),e.xp6(3),e.Oqu(n.comment),e.xp6(2),e.Oqu(n.comment)}}function J(i,A){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,S,31,32,"ng-container",40),e.qZA()),2&i){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.valoracionesToShow)}}function R(i,A){1&i&&(e.ynx(0),e.TgZ(1,"div",47)(2,"div",48),e._UZ(3,"i",49),e.TgZ(4,"h5",50),e._uU(5,"Sin valoraciones"),e.qZA()()(),e.BQk())}function L(i,A){if(1&i){const n=e.EpF();e.TgZ(0,"div",9)(1,"h4",10),e._uU(2,"Valoraciones"),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){const d=e.CHM(n).$implicit;return e.KtG(d.dismiss("Cross click"))}),e._UZ(4,"i",12),e.qZA()(),e.TgZ(5,"div",13)(6,"div",14)(7,"div",15),e.YNc(8,b,2,0,"h1",16),e.YNc(9,k,2,1,"h1",16),e.TgZ(10,"div",1)(11,"ngb-rating",3),e.NdJ("rateChange",function(c){e.CHM(n);const d=e.oxw();return e.KtG(d.profesional.avgRatings=c)}),e.qZA()(),e.TgZ(12,"p",17),e._uU(13),e.qZA()(),e.TgZ(14,"div",18)(15,"div",19),e._UZ(16,"ngb-rating",20)(17,"mat-progress-bar",21),e.TgZ(18,"p",22),e._uU(19),e.qZA()(),e.TgZ(20,"div",19),e._UZ(21,"ngb-rating",20)(22,"mat-progress-bar",21),e.TgZ(23,"p",22),e._uU(24),e.qZA()(),e.TgZ(25,"div",19),e._UZ(26,"ngb-rating",20)(27,"mat-progress-bar",21),e.TgZ(28,"p",22),e._uU(29),e.qZA()(),e.TgZ(30,"div",19),e._UZ(31,"ngb-rating",20)(32,"mat-progress-bar",21),e.TgZ(33,"p",22),e._uU(34),e.qZA()(),e.TgZ(35,"div",19),e._UZ(36,"ngb-rating",20)(37,"mat-progress-bar",21),e.TgZ(38,"p",22),e._uU(39),e.qZA()()(),e._UZ(40,"div",23),e.TgZ(41,"div",24,25)(43,"button",26,27),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(44),C=e.oxw();return e.KtG(C.showStart(c,d,0))}),e.TgZ(45,"p",28),e._uU(46),e.qZA()(),e.TgZ(47,"button",29,30),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(48),C=e.oxw();return e.KtG(C.showStart(c,d,1))}),e.TgZ(49,"p",28),e._uU(50,"1 "),e.qZA(),e._UZ(51,"i",31),e.qZA(),e.TgZ(52,"button",29,32),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(53),C=e.oxw();return e.KtG(C.showStart(c,d,2))}),e.TgZ(54,"p",28),e._uU(55,"2 "),e.qZA(),e._UZ(56,"i",31),e.qZA(),e.TgZ(57,"button",29,33),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(58),C=e.oxw();return e.KtG(C.showStart(c,d,3))}),e.TgZ(59,"p",28),e._uU(60,"3 "),e.qZA(),e._UZ(61,"i",31),e.qZA(),e.TgZ(62,"button",29,34),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(63),C=e.oxw();return e.KtG(C.showStart(c,d,4))}),e.TgZ(64,"p",28),e._uU(65,"4 "),e.qZA(),e._UZ(66,"i",31),e.qZA(),e.TgZ(67,"button",29,35),e.NdJ("click",function(){e.CHM(n);const c=e.MAs(42),d=e.MAs(68),C=e.oxw();return e.KtG(C.showStart(c,d,5))}),e.TgZ(69,"p",28),e._uU(70,"5 "),e.qZA(),e._UZ(71,"i",31),e.qZA()(),e._UZ(72,"div",23),e.YNc(73,J,2,1,"div",36),e.YNc(74,R,6,0,"ng-container",37),e.qZA()()}if(2&i){const n=e.oxw(),l=e.MAs(3);e.xp6(8),e.Q6J("ngIf",0===n.profesional.avgRatings),e.xp6(1),e.Q6J("ngIf",n.profesional.avgRatings>0),e.xp6(2),e.Q6J("rate",n.profesional.avgRatings)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(2),e.hij("",n.profesional.totalRating," valoraciones"),e.xp6(3),e.Q6J("rate",5)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(1),e.Q6J("value",n.getPorcentaje(5)),e.xp6(2),e.Oqu(n.profesional.ratings[5]),e.xp6(2),e.Q6J("rate",4)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(1),e.Q6J("value",n.getPorcentaje(4)),e.xp6(2),e.Oqu(n.profesional.ratings[4]),e.xp6(2),e.Q6J("rate",3)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(1),e.Q6J("value",n.getPorcentaje(3)),e.xp6(2),e.Oqu(n.profesional.ratings[3]),e.xp6(2),e.Q6J("rate",2)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(1),e.Q6J("value",n.getPorcentaje(2)),e.xp6(2),e.Oqu(n.profesional.ratings[2]),e.xp6(2),e.Q6J("rate",1)("starTemplate",l)("readonly",!0)("max",5)("ariaValueText",n.ariaValueText),e.xp6(1),e.Q6J("value",n.getPorcentaje(1)),e.xp6(2),e.Oqu(n.profesional.ratings[1]),e.xp6(7),e.hij("Todas (",n.profesional.totalRating,")"),e.xp6(27),e.Q6J("ngIf",n.valoracionesToShow.length>0),e.xp6(1),e.Q6J("ngIf",0===n.valoracionesToShow.length)}}let Q=(()=>{class i{constructor(){this.modalService=(0,e.f3M)(p.FF),this.assessmentS=(0,e.f3M)(w.e),this.fwe=(0,e.f3M)(Z.o),this.valoracionesToShow=[],this.Allvaloraciones=[]}ngAfterViewInit(){this.assessmentS.getAllAssessmentByIdProfesional(this.profesional._id).subscribe({next:n=>{this.Allvaloraciones=n,this.valoracionesToShow=n},error:n=>this.fwe.fireSweetError(n)})}ariaValueText(n,l){return`${n} out of ${l} hearts`}openModalDetails(n){return this.modalService.open(n,{centered:!0,size:"lg"})}showStart(n,l,c){n.childNodes.forEach(d=>{d.classList.remove("active")}),l.classList.add("active"),this.valoracionesToShow=[],c?this.Allvaloraciones.forEach(d=>{d.overallRating===c&&this.valoracionesToShow.push(d)}):this.valoracionesToShow=this.Allvaloraciones}getPorcentaje(n){return this.profesional.ratings[`${n}`]/this.profesional.totalRating*100}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-start-btn-details"]],inputs:{profesional:"profesional"},standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[2,"cursor","pointer",3,"click"],[1,"d-flex"],["t",""],[3,"rate","starTemplate","readonly","max","ariaValueText","rateChange"],[1,"m-0","fs-12","justify-content-center","d-flex","text-center"],["content",""],[1,"bi-star-fill","StartIco",2,"cursor","pointer"],["class","bi-star-fill filled",3,"width",4,"ngIf"],[1,"bi-star-fill","filled"],[1,"modal-header","border-0"],[1,"modal-title","fw-bold"],["type","button","aria-label","Close",1,"btn-close","btnClose",3,"click"],[1,"fa-solid","fa-xmark","btnCloseIcon"],[1,"modal-body","pt-0"],[1,"row"],[1,"col-4","col-lg-6","d-flex","align-items-center",2,"flex-direction","column"],["class","fs-32","style","font-weight: 700;",4,"ngIf"],[1,"fs-13"],[1,"col-8","col-lg-6","mb-1"],[1,"d-flex","align-items-center"],[3,"rate","starTemplate","readonly","max","ariaValueText"],["mode","determinate",1,"mx-1","barr",3,"value"],[1,"mb-0"],[1,"w-100",2,"height","1.5px","background-color","rgb(241, 241, 241)"],[1,"col-12","d-flex","my-2"],["listBtnStart",""],[1,"btn","btn-light","btn-sm","d-flex","align-items-center","waves-effect","waves-light","fs-13","active",2,"background-color","#dfdfdf",3,"click"],["btnStartG",""],[1,"m-0"],[1,"btn","btn-light","btn-sm","d-flex","align-items-center","waves-effect","waves-light","fs-13","ms-1",2,"background-color","#dfdfdf",3,"click"],["btnStart1",""],[1,"fa-solid","fa-star","ms-1",2,"color","black","font-size",".7rem !important"],["btnStart2",""],["btnStart3",""],["btnStart4",""],["btnStart5",""],["class","col-12",4,"ngIf"],[4,"ngIf"],[1,"fs-32",2,"font-weight","700"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"d-flex","mt-2"],[1,"flex-fill"],[1,"mb-0","fs-14","me-2",2,"width","111px"],[1,"fs-14","fw-semibold","mb-0"],[1,"flex-fill","fs-14","ms-2","d-block","d-lg-none"],[1,"flex-fill","fs-14","ms-2","d-none","d-lg-block"],[1,"col-12","d-flex","justify-content-center"],[1,"text-center","my-5"],[1,"fa-regular","fa-star","fs-32","p-4",2,"background","#d8d8d8","border-radius","50%"],[1,"fw-semibold"]],template:function(l,c){if(1&l){const d=e.EpF();e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(d);const U=e.MAs(8);return e.KtG(c.openModalDetails(U))}),e.TgZ(1,"div",1),e.YNc(2,D,2,1,"ng-template",null,2,e.W1O),e.TgZ(4,"ngb-rating",3),e.NdJ("rateChange",function(U){return c.profesional.avgRatings=U}),e.qZA()(),e.TgZ(5,"p",4),e._uU(6),e.qZA()(),e.YNc(7,L,75,46,"ng-template",null,5,e.W1O)}if(2&l){const d=e.MAs(3);e.xp6(4),e.Q6J("rate",c.profesional.avgRatings)("starTemplate",d)("readonly",!0)("max",5)("ariaValueText",c.ariaValueText),e.xp6(2),e.hij("",c.profesional.totalRating," rese\xf1as")}},dependencies:[u.ez,u.sg,u.O5,p.mO,p.OC,y,t,h.D,N.i],styles:[".StartIco[_ngcontent-%COMP%]{position:relative;display:inline-block;font-size:1rem;padding-right:.1rem;color:#d3d3d3}.filled[_ngcontent-%COMP%]{color:#ffa734;overflow:hidden;position:absolute;top:0;left:0}.subFix[_ngcontent-%COMP%]{font-weight:500;position:relative;bottom:-3px!important}.active[_ngcontent-%COMP%]{color:var(--color-naranja-app)!important;font-weight:700!important;border-color:var(--color-naranja-app)!important}.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffa734!important}.barr[_ngcontent-%COMP%]{max-width:90px;border-radius:10px;--mdc-linear-progress-active-indicator-height: 6px;--mdc-linear-progress-track-height: 6px;--mdc-linear-progress-active-indicator-color: #646464}"]})}return i})()},8104:(I,O,o)=>{o.d(O,{E:()=>u});var e=o(755);let u=(()=>{class p{transform(x){return(x=x??0)>=1e3?`${(x/1e3).toFixed(0)} K`:x+" "}static#e=this.\u0275fac=function(v){return new(v||p)};static#t=this.\u0275pipe=e.Yjl({name:"numeroEnK",type:p,pure:!0})}return p})()},144:(I,O,o)=>{o.d(O,{e:()=>p});var e=o(755),u=o(7613);let p=(()=>{class f{constructor(){this.api=(0,e.f3M)(u.s),this.base="assessment/"}createNewAssessment(v){return this.api.postAuth(`${this.base}`,v)}getAllAssessmentByIdProfesional(v){return this.api.get(`${this.base}getAllAssessmentByIdProfesional/${v}`)}static#e=this.\u0275fac=function(B){return new(B||f)};static#t=this.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2440:(I,O,o)=>{o.d(O,{Z:()=>p});const e=void 0,p=["es",[["a.\xa0m.","p.\xa0m."],e,e],e,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],e,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],e,[["a. C.","d. C."],e,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",e,e,e],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[e,"$"],BRL:[e,"R$"],BYN:[e,"\u0440."],CAD:[e,"$"],CNY:[e,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[e,"\xa3"],HKD:[e,"$"],ILS:[e,"\u20aa"],INR:[e,"\u20b9"],JPY:[e,"\xa5"],KRW:[e,"\u20a9"],MXN:[e,"$"],NZD:[e,"$"],PHP:[e,"\u20b1"],RON:[e,"L"],THB:["\u0e3f"],TWD:[e,"NT$"],USD:["US$","$"],XAF:[],XCD:[e,"$"],XOF:[]},"ltr",function u(f){const x=f,v=Math.floor(Math.abs(f)),B=f.toString().replace(/^[^.]*\.?/,"").length,M=parseInt(f.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===x?1:0===M&&0!==v&&v%1e6==0&&0===B||!(M>=0&&M<=5)?4:5}]}}]);