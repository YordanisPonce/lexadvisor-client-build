"use strict";(self.webpackChunkLexAdvisor=self.webpackChunkLexAdvisor||[]).push([[516],{3516:(ut,f,i)=>{i.r(f),i.d(f,{default:()=>ht});var v=i(2706),c=i(2163),C=i(3962),g=i(3226),d=i(6733),w=i(1e3),t=i(755),T=i(5012),N=i(2898),Z=i(6208),x=i(5262),y=i(2532),_=i(9984),M=i(8500),h=i(6125),F=i(8132),A=i(5047),P=i(1209),m=i(7132),S=i(155),z=i(8004),u=i(1570),O=i(4787),U=i(7560),b=i(7613);let J=(()=>{class n{constructor(){this.api=(0,t.f3M)(b.s),this.base="tags/"}searchTagsByName(e){return this.api.get(`${this.base}searchTagsByName/${e}`)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip-row",11),t.NdJ("removed",function(){const r=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.remove(r))})("edited",function(o){const p=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.edit(p,o))}),t._uU(1),t.TgZ(2,"button",12)(3,"mat-icon"),t._uU(4,"cancel"),t.qZA()()()}if(2&n){const e=s.$implicit;t.Q6J("editable",!0)("aria-description","press enter to edit "+e),t.xp6(1),t.hij(" ",e," "),t.xp6(1),t.uIk("aria-label","remove "+e)}}function H(n,s){1&n&&(t.TgZ(0,"small",13),t._uU(1,"Buscando..."),t.qZA())}function K(n,s){1&n&&(t.TgZ(0,"div",14),t._uU(1,"Error de conexi\xf3n"),t.qZA())}let Y=(()=>{class n{constructor(){this.ChangeValue=new t.vpe,this.announcer=(0,t.f3M)(y.Kd),this.TagS=(0,t.f3M)(J),this.separatorKeysCodes=[x.K5,x.OC],this.tags=[],this.loadingTypeahead=!1,this.typeaheadFailed=!1,this.resultFormatter=e=>`${e.tagName} (${e.count})`,this.inputFormatter=e=>`${e.tagName}`,this.searchDebounce=e=>{const a=e.pipe((0,S.b)(300),(0,z.x)()),o=new F.y(()=>()=>this.loadingTypeahead=!1);return(0,A.T)(a,o).pipe((0,u.b)(()=>this.loadingTypeahead=!0),(0,O.w)(r=>this.searchTagsByName(r)),(0,u.b)(()=>this.loadingTypeahead=!1))}}searchTagsByName(e){return this.TagS.searchTagsByName(e).pipe((0,u.b)(()=>this.typeaheadFailed=!1),(0,U.K)(()=>(this.typeaheadFailed=!0,(0,P.of)([]))))}add(e){const a=(e.value||"").trim();a&&this.tags.push(a),e.chipInput.clear(),this.senTags()}remove(e){const a=this.tags.indexOf(e);a>=0&&(this.tags.splice(a,1),this.announcer.announce(`Removed ${e}`)),this.senTags()}edit(e,a){const o=a.value.trim();if(!o)return void this.remove(e);const r=this.tags.indexOf(e);r>=0&&(this.tags[r]=o),this.senTags()}senTags(){this.tags.length>0&&this.ChangeValue.emit(this.tags),0===this.tags.length&&this.ChangeValue.emit(void 0)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-filterNews"]],outputs:{ChangeValue:"ChangeValue"},standalone:!0,features:[t.jDz],decls:13,vars:11,consts:[["ngbDropdown","",1,"d-inline-block","btnP",3,"autoClose"],["type","button","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-primary","btnCircle","waves-effect","waves-light"],[1,"fa-solid","fa-filter","iconP"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"p-0",2,"width","250px"],["appearance","outline","subscriptSizing","dynamic",1,"w-100"],["aria-label","Enter tags"],["chipGrid",""],[3,"editable","aria-description","removed","edited",4,"ngFor","ngForOf"],["placeholder","Agrega tus tags",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","inputFormatter","resultFormatter","ngbTypeahead","showHint","matChipInputTokenEnd"],["class","form-text text-muted",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[3,"editable","aria-description","removed","edited"],["matChipRemove",""],[1,"form-text","text-muted"],[1,"invalid-feedback"]],template:function(a,o){if(1&a&&(t.TgZ(0,"div",0)(1,"button",1),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Tags favoritos"),t.qZA(),t.TgZ(7,"mat-chip-grid",5,6),t.YNc(9,I,5,4,"mat-chip-row",7),t.TgZ(10,"input",8),t.NdJ("matChipInputTokenEnd",function(p){return o.add(p)}),t.qZA()()(),t.YNc(11,H,2,0,"small",9),t.YNc(12,K,2,0,"div",10),t.qZA()()),2&a){const r=t.MAs(8);t.Q6J("autoClose",!1),t.xp6(9),t.Q6J("ngForOf",o.tags),t.xp6(1),t.Q6J("matChipInputFor",r)("matChipInputSeparatorKeyCodes",o.separatorKeysCodes)("matChipInputAddOnBlur",!0)("inputFormatter",o.inputFormatter)("resultFormatter",o.resultFormatter)("ngbTypeahead",o.searchDebounce)("showHint",!0),t.xp6(1),t.Q6J("ngIf",o.loadingTypeahead),t.xp6(1),t.Q6J("ngIf",o.typeaheadFailed)}},dependencies:[d.ez,d.sg,d.O5,c.XC,c.jt,c.iD,c.Vi,M.Fk,c.ZS,c.dR,g.u5,h.lN,h.KE,h.hX,m.Hi,m.RA,m.oH,m.qH,m.z3,_.Ps,_.Hw],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.btnP[_ngcontent-%COMP%]{margin-left:15px;position:relative;top:-7px}.iconP[_ngcontent-%COMP%]{position:relative;right:3px}.btnCircle[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}"]})}return n})();var B=i(2907),Q=i(1794),j=i(8474),E=i(7020),$=i(9010),D=i(6784),L=i(4176),V=i(9209),G=i(5433),k=i(1777),q=i(6026),R=i(2241),X=i(7135),W=i(8104);function tt(n,s){1&n&&t._UZ(0,"i",33)}function et(n,s){1&n&&t._UZ(0,"i",34)}function nt(n,s){1&n&&t._UZ(0,"i",35)}function ot(n,s){1&n&&t._UZ(0,"i",36)}function it(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ngb-pagination",28),t.NdJ("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.page=o)})("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.changePage(o))}),t.YNc(1,tt,1,0,"ng-template",29),t.YNc(2,et,1,0,"ng-template",30),t.YNc(3,nt,1,0,"ng-template",31),t.YNc(4,ot,1,0,"ng-template",32),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("collectionSize",e.collectionSize)("page",e.page)("pageSize",e.pageSize)("maxSize",4)("rotate",!0)("boundaryLinks",!0)}}function at(n,s){if(1&n&&(t.TgZ(0,"span",57),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function rt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",39),t.NdJ("click",function(){const r=t.CHM(e).$implicit,p=t.oxw(2);return t.KtG(p.navigateTo(r._id))}),t.TgZ(1,"article",40)(2,"div",41)(3,"div",42)(4,"figure",43),t._UZ(5,"img",44),t.ALo(6,"imagen"),t.TgZ(7,"span",45),t._uU(8),t.ALo(9,"momentDate"),t.qZA()()(),t.TgZ(10,"div",46)(11,"p",47),t._uU(12),t.qZA(),t.TgZ(13,"p",48),t._uU(14),t.qZA()()(),t.TgZ(15,"p",49),t._uU(16),t.qZA(),t.TgZ(17,"div",50)(18,"div",51)(19,"button",52),t.NdJ("click",function(o){return o.stopPropagation()}),t._UZ(20,"i",53),t.TgZ(21,"span"),t._uU(22),t.ALo(23,"numeroEnK"),t.qZA()()(),t.TgZ(24,"div",54),t._UZ(25,"i",55),t.YNc(26,at,2,1,"span",56),t.qZA()()()()}if(2&n){const e=s.$implicit;t.xp6(5),t.Q6J("src",t.xi3(6,7,e.img,"noticias"),t.LSH),t.xp6(3),t.Oqu(t.xi3(9,10,e.createdAt,"D, MMMM YYYY")),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.shortBody),t.xp6(2),t.Oqu(e.shortBody),t.xp6(6),t.Oqu(t.lcZ(23,13,e.views)),t.xp6(4),t.Q6J("ngForOf",e.tags)}}function st(n,s){if(1&n&&(t.TgZ(0,"div",8)(1,"div",37),t.YNc(2,rt,27,15,"div",38),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.news)}}function ct(n,s){1&n&&(t.TgZ(0,"div",8)(1,"div",37)(2,"div",58)(3,"div",59)(4,"span"),t._uU(5,"No se encontraron noticias"),t.qZA(),t._UZ(6,"i",60),t.qZA()()()())}function pt(n,s){1&n&&t._UZ(0,"i",33)}function lt(n,s){1&n&&t._UZ(0,"i",34)}function dt(n,s){1&n&&t._UZ(0,"i",35)}function gt(n,s){1&n&&t._UZ(0,"i",36)}function mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"ngb-pagination",28),t.NdJ("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.page=o)})("pageChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.changePage(o))}),t.YNc(1,pt,1,0,"ng-template",29),t.YNc(2,lt,1,0,"ng-template",30),t.YNc(3,dt,1,0,"ng-template",31),t.YNc(4,gt,1,0,"ng-template",32),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("collectionSize",e.collectionSize)("page",e.page)("pageSize",e.pageSize)("maxSize",4)("rotate",!0)("boundaryLinks",!0)}}let ht=(()=>{class n{constructor(){this.api=(0,t.f3M)(b.s),this.fwe=(0,t.f3M)(V.o),this.NewS=(0,t.f3M)(L.H),this.Chats=(0,t.f3M)(D.ZP),this.router=(0,t.f3M)(v.F0),this.clipboard=(0,t.f3M)(C.TU),this.modalService=(0,t.f3M)(c.FF),this.page=1,this.pageSize=10,this.collectionSize=0,this.resetPageSize=!0,this.query={},this.searchText="",this.loading=!1,this.news=[],this.showPage(),this.Chats.connectChat()}showPage(){this.query={...this.query,reset:this.resetPageSize},this.tags&&(this.query={...this.query,tags:this.tags}),this.NewS.searchNews((this.page-1)*this.pageSize,this.pageSize,this.query).subscribe({next:e=>{this.loading=!1,this.resetPageSize=!1,this.news=e.allNewsFound,"number"==typeof e.totalDoc&&(this.collectionSize=e.totalDoc)},error:e=>{this.page=1,this.loading=!1,this.fwe.fireSweetError(e)}})}navigateToProfile(e,a){("PROFECIONAL"===e.role||"ADMIN"===e.role)&&this.router.navigateByUrl(`/perfil/${e._id}`)}search(e){const a=this.query.searchBox??"";this.page=1,this.query={},""!==e.trim()&&(this.query={...this.query,searchBox:e.trim()}),a!==e.trim()&&(this.resetPageSize=!0),this.showPage()}copyToClipBoard(){this.clipboard.copy("lex-web.letsprototype.com/noticias")}changePage(e){this.page=e,this.showPage()}changedTags(e){this.tags=e,this.resetPageSize=!0}focusInputSearch(e){e.classList.toggle("focuInput")}navigateTo(e){this.router.navigateByUrl(`/noticias/${e}`)}changeThread(e){this.router.navigateByUrl(`/hilo/${e}`)}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-news"]],standalone:!0,features:[t.jDz],decls:43,vars:10,consts:[[1,"site-container"],[1,"rootWraper"],[1,"container-fluid"],[1,"row","d-flex","justify-content-center"],[1,"order-1","order-md-0","col-12","col-md-3","p-0"],[1,"d-none","d-md-block",2,"position","sticky","top","60px",3,"adNumber"],[1,"order-0","order-md-1","col-12","col-md-6","px-md-2","p-0"],[1,"d-block","d-md-none",3,"adNumber"],[1,"card","custom-card"],[1,"card-body","d-flex","p-2",2,"justify-content","space-between","align-items","center"],[1,"d-flex","align-items-center",2,"flex-direction","row"],[1,"btn","border-0","waves-effect","waves-dark",2,"border-radius","50%","width","30px","height","30px"],[1,"fa-solid","fa-link","me-2",2,"position","relative","left","-6px","bottom","4px",3,"click"],[1,"m-0","fw-bold"],[1,"card","cardT","m-0"],[1,"card-body","d-flex","pe-0",2,"background-color","transparent"],[1,"row","gy-3","w-100"],["tabindex","0",1,"col-12","d-flex","serachContainer","m-0",2,"background","white"],["inputParent",""],["type","text","placeholder","Buscar noticia",1,"form-control","me-2","inputSerach",3,"ngModel","keydown.enter","ngModelChange","focus","focusout"],["inputSearch",""],[1,"btn","btn-primary","btnSerach","waves-effect","waves-light",3,"click"],[1,"fa-solid","fa-magnifying-glass",2,"left","-2px","position","relative"],[3,"ChangeValue"],["class","d-flex justify-content-center","size","sm",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange",4,"ngIf"],[1,"text-center","align-self-center","w-100","fs-13","fw-semibold","m-0"],["class","card custom-card",4,"ngIf"],[1,"order-2","order-md-2","col-12","col-md-3","p-0"],["size","sm",1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["ngbPaginationFirst",""],["ngbPaginationLast",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"fa-solid","fa-angles-left"],[1,"fa-solid","fa-angles-right"],[1,"fa-solid","fa-angle-left"],[1,"fa-solid","fa-angle-right"],[1,"card-body","py-0"],["class","row d-flex pt-2 cursorI childnoticia","style","border-bottom: 1px solid #bcbcbcd1;",3,"click",4,"ngFor","ngForOf"],[1,"row","d-flex","pt-2","cursorI","childnoticia",2,"border-bottom","1px solid #bcbcbcd1",3,"click"],[1,"d-flex","ps-0",2,"flex-direction","column"],[1,"d-flex"],[2,"max-width","148px"],[1,"avatar","avatar-xl","m-0","me-2",2,"width","140px !important","height","100px !important","margin-top","-8px !important"],[2,"width","140px","height","85px","object-fit","cover","object-position","left",3,"src"],[1,"text-white","fs-11","dateFormat"],[1,"text-break"],[1,"mb-1","fw-semibold","fs-13",2,"line-height","14px","color","black"],[1,"mb-1","fs-12","d-none","d-md-block",2,"line-height","14px","text-align","justify"],[1,"mt-2","mb-0","fs-12","d-md-none",2,"line-height","14px","text-align","justify"],[1,"d-flex","mt-2","flex-column","flex-md-row"],[1,"order-1","order-md-0","d-flex","align-items-end",2,"min-width","148px"],["placement","top","ngbTooltip","Visto",1,"btn","btn-sm","btn-icon","btn-primary-light","btn-wave","waves-effect","waves-dark","fs-12",3,"click"],[1,"fa-solid","fa-eye","me-1"],[1,"order-0","order-md-1"],[1,"fa-solid","fa-tags"],["class","badge text-bg-primary m-1","style","padding-bottom: 6px;",4,"ngFor","ngForOf"],[1,"badge","text-bg-primary","m-1",2,"padding-bottom","6px"],[1,"row"],[1,"col-12","d-flex","justify-content-center",2,"flex-direction","column","height","300px","align-items","center"],[1,"fa-regular","fa-newspaper",2,"font-size","50px","color","#838383"]],template:function(a,o){if(1&a){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-nav-bar"),t.TgZ(3,"main")(4,"div",2)(5,"div",3)(6,"div",4),t._UZ(7,"app-card-new-recent")(8,"app-adVertical",5),t.qZA(),t.TgZ(9,"div",6),t._UZ(10,"app-adHorizontal",7),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"button",11)(15,"i",12),t.NdJ("click",function(){return o.copyToClipBoard()}),t.qZA()(),t.TgZ(16,"div")(17,"h4",13),t._uU(18,"Noticias jur\xeddicas"),t.qZA()()()()(),t.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17,18)(24,"input",19,20),t.NdJ("keydown.enter",function(){t.CHM(r);const l=t.MAs(25);return t.KtG(o.search(l.value))})("ngModelChange",function(l){return o.searchText=l})("focus",function(){t.CHM(r);const l=t.MAs(23);return t.KtG(o.focusInputSearch(l))})("focusout",function(){t.CHM(r);const l=t.MAs(23);return t.KtG(o.focusInputSearch(l))}),t.qZA(),t.TgZ(26,"button",21),t.NdJ("click",function(){t.CHM(r);const l=t.MAs(25);return t.KtG(o.search(l.value))}),t._UZ(27,"i",22),t.qZA()()(),t.TgZ(28,"app-filterNews",23),t.NdJ("ChangeValue",function(l){return o.changedTags(l)}),t.qZA()()(),t.YNc(29,it,5,6,"ngb-pagination",24),t.TgZ(30,"p",25),t._uU(31),t.qZA(),t.YNc(32,st,3,1,"div",26),t.YNc(33,ct,7,0,"div",26),t.YNc(34,mt,5,6,"ngb-pagination",24),t._UZ(35,"app-adHorizontal",7)(36,"app-adHorizontal",5),t.qZA(),t.TgZ(37,"div",27)(38,"app-card-more-views-topic",23),t.NdJ("ChangeValue",function(l){return o.changeThread(l)}),t.qZA(),t._UZ(39,"app-card-new-recent-publications")(40,"app-card-new-recent-adver"),t.qZA()()()(),t._UZ(41,"app-drop-cookies"),t.qZA(),t._UZ(42,"app-footer"),t.qZA()}2&a&&(t.xp6(8),t.Q6J("adNumber",9),t.xp6(2),t.Q6J("adNumber",12),t.xp6(14),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.news.length>0),t.xp6(2),t.hij("",o.collectionSize," Resultado(s)"),t.xp6(1),t.Q6J("ngIf",o.news.length>0),t.xp6(1),t.Q6J("ngIf",0===o.news.length),t.xp6(1),t.Q6J("ngIf",o.news.length>0),t.xp6(1),t.Q6J("adNumber",11),t.xp6(1),t.Q6J("adNumber",10))},dependencies:[d.ez,d.sg,d.O5,$.Z,j.Z,E.Z,B.t,Q.L,c.HK,c._L,Y,g.u5,g.Fj,g.JJ,g.On,c.jF,c.N9,c.eC,c.pV,c.GZ,c.ju,Z.m,G.w,k.Z,q.Z,N.D,R.$,X.i,W.E,v.Bz,w.c,T.Z],styles:[".mediaD[_ngcontent-%COMP%]{flex-direction:row!important}.mediap[_ngcontent-%COMP%]{padding-left:55px}.btnSerach[_ngcontent-%COMP%]{border-radius:50%;height:35px;width:35px;font-size:13px}.inputSerach[_ngcontent-%COMP%]{border:0;padding-left:0}.serachContainer[_ngcontent-%COMP%]{align-items:center;border-radius:30px;border:var(--bs-border-width) solid var(--bs-border-color);padding-right:4px}.cardT[_ngcontent-%COMP%]{background:transparent;border:0;box-shadow:none}.form-control[_ngcontent-%COMP%]:focus{background-color:transparent;outline:0;box-shadow:none}.focuInput[_ngcontent-%COMP%]{color:var(--bs-body-color);background-color:var(--bs-body-bg);border-color:#86b7fe;outline:0;border-radius:20px;box-shadow:0 0 0 .25rem #0d6efd40}.cursorP[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer;outline:4px solid rgb(96,96,96)}.hoverNameT[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.cursorI[_ngcontent-%COMP%]{cursor:pointer}.iconosCard[_ngcontent-%COMP%]{color:var(--color-azul-app)}.dateFormat[_ngcontent-%COMP%]{line-height:20px;background-color:var(--color-naranja-app);position:absolute;left:-2px;bottom:-2px;border-radius:0 10px 0 0;font-weight:500;height:20px;padding-left:2px;width:100%;text-align:center}.childnoticia[_ngcontent-%COMP%]:last-child{border-bottom:0!important}"]})}return n})()}}]);